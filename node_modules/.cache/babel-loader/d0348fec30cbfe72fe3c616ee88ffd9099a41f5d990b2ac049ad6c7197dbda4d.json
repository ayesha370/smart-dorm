{"ast":null,"code":"var _jsxFileName = \"E:\\\\FYP\\\\final\\\\src\\\\Components\\\\ProfileUserDisplayComponent.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { Card, Button } from 'react-bootstrap';\nimport { PersonCircle } from 'react-bootstrap-icons';\nimport { useAuth } from '../contexts/AuthContext'; // Adjust import path as necessary\nimport { Link } from 'react-router-dom';\nimport './ProfileAdminComponent.css'; // Use the same CSS file as the admin profile component\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProfileUserDisplayComponent = () => {\n  _s();\n  const {\n    currentUser\n  } = useAuth();\n  const [userDetails, setUserDetails] = useState({\n    fullName: '',\n    email: '',\n    dateOfBirth: '',\n    role: '',\n    roomNumber: ''\n  });\n  useEffect(() => {\n    const fetchUserProfile = async () => {\n      const response = await fetch(`http://localhost:3001/api/auth/user/profile/${currentUser.email}`, {\n        method: 'GET',\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        const formattedDateOfBirth = data.dateOfBirth ? new Date(data.dateOfBirth).toLocaleDateString('en-US', {\n          year: 'numeric',\n          month: 'long',\n          day: 'numeric'\n        }) : 'No Date of Birth Provided';\n        setUserDetails(prevState => ({\n          ...prevState,\n          fullName: data.fullName,\n          email: currentUser.email,\n          dateOfBirth: formattedDateOfBirth,\n          role: currentUser.role\n        }));\n      }\n    };\n    const fetchRoomNumber = async () => {\n      const response = await fetch(`http://localhost:3001/api/auth/occupied-room/${currentUser.email}`, {\n        method: 'GET'\n      });\n      if (response.ok) {\n        const {\n          roomcode\n        } = await response.json();\n        setUserDetails(prevState => ({\n          ...prevState,\n          roomNumber: roomcode\n        }));\n      } else {\n        setUserDetails(prevState => ({\n          ...prevState,\n          roomNumber: 'No Room Allocated'\n        }));\n      }\n    };\n    if (currentUser && currentUser.email) {\n      fetchUserProfile();\n      fetchRoomNumber();\n    }\n  }, [currentUser]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-profile-card-container\",\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      className: \"admin-profile-card\",\n      children: /*#__PURE__*/_jsxDEV(Card.Body, {\n        className: \"admin-profile-card-body\",\n        children: [/*#__PURE__*/_jsxDEV(PersonCircle, {\n          size: 90,\n          className: \"admin-profile-icon mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Card.Title, {\n          className: \"admin-profile-card-title\",\n          children: \"Profile Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"admin-profile-details-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"admin-profile-details-left\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"admin-break\",\n              children: renderProfileDetail('Name', userDetails.fullName)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"admin-break\",\n              children: renderProfileDetail('Email', userDetails.email)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"admin-break\",\n              children: renderProfileDetail('Date of Birth', userDetails.dateOfBirth)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"admin-break\",\n              children: renderProfileDetail('Role', userDetails.role)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"admin-break\",\n              children: renderProfileDetail('Room Number', userDetails.roomNumber)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"admin-profile-details-right\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/usersettings\",\n              className: \"admin-profile-edit-link\",\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                className: \"admin-profile-edit-button\",\n                children: \"Edit Profile\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n  function renderProfileDetail(label, value) {\n    return /*#__PURE__*/_jsxDEV(Card.Text, {\n      className: \"admin-profile-card-text\",\n      children: [label, \": \", /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"admin-profile-card-info\",\n        children: value || 'Not provided'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 18\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this);\n  }\n};\n_s(ProfileUserDisplayComponent, \"+pdVR2bPVIfE0AB0DoZd7CG+YqQ=\", false, function () {\n  return [useAuth];\n});\n_c = ProfileUserDisplayComponent;\nexport default ProfileUserDisplayComponent;\nvar _c;\n$RefreshReg$(_c, \"ProfileUserDisplayComponent\");","map":{"version":3,"names":["React","useEffect","useState","Card","Button","PersonCircle","useAuth","Link","jsxDEV","_jsxDEV","ProfileUserDisplayComponent","_s","currentUser","userDetails","setUserDetails","fullName","email","dateOfBirth","role","roomNumber","fetchUserProfile","response","fetch","method","headers","Authorization","localStorage","getItem","ok","data","json","formattedDateOfBirth","Date","toLocaleDateString","year","month","day","prevState","fetchRoomNumber","roomcode","className","children","Body","size","fileName","_jsxFileName","lineNumber","columnNumber","Title","renderProfileDetail","to","label","value","Text","_c","$RefreshReg$"],"sources":["E:/FYP/final/src/Components/ProfileUserDisplayComponent.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Card, Button } from 'react-bootstrap';\nimport { PersonCircle } from 'react-bootstrap-icons';\nimport { useAuth } from '../contexts/AuthContext'; // Adjust import path as necessary\nimport { Link } from 'react-router-dom';\nimport './ProfileAdminComponent.css'; // Use the same CSS file as the admin profile component\n\nconst ProfileUserDisplayComponent = () => {\n  const { currentUser } = useAuth();\n  const [userDetails, setUserDetails] = useState({\n    fullName: '',\n    email: '',\n    dateOfBirth: '',\n    role: '',\n    roomNumber: ''\n  });\n\n  useEffect(() => {\n    const fetchUserProfile = async () => {\n      const response = await fetch(`http://localhost:3001/api/auth/user/profile/${currentUser.email}`, {\n        method: 'GET',\n        headers: { Authorization: `Bearer ${localStorage.getItem('token')}` },\n      });\n      if (response.ok) {\n        const data = await response.json();\n        const formattedDateOfBirth = data.dateOfBirth\n          ? new Date(data.dateOfBirth).toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' })\n          : 'No Date of Birth Provided';\n        setUserDetails(prevState => ({\n          ...prevState,\n          fullName: data.fullName,\n          email: currentUser.email,\n          dateOfBirth: formattedDateOfBirth,\n          role: currentUser.role\n        }));\n      }\n    };\n\n    const fetchRoomNumber = async () => {\n      const response = await fetch(`http://localhost:3001/api/auth/occupied-room/${currentUser.email}`, {\n        method: 'GET',\n      });\n      if (response.ok) {\n        const { roomcode } = await response.json();\n        setUserDetails(prevState => ({\n          ...prevState,\n          roomNumber: roomcode\n        }));\n      } else {\n        setUserDetails(prevState => ({\n          ...prevState,\n          roomNumber: 'No Room Allocated'\n        }));\n      }\n    };\n\n    if (currentUser && currentUser.email) {\n      fetchUserProfile();\n      fetchRoomNumber();\n    }\n  }, [currentUser]);\n\n  return (\n    <div className='admin-profile-card-container'>\n      <Card className='admin-profile-card'>\n        <Card.Body className='admin-profile-card-body'>\n          <PersonCircle size={90} className='admin-profile-icon mb-4' />\n          <Card.Title className='admin-profile-card-title'>Profile Details</Card.Title>\n          \n          <div className='admin-profile-details-container'>\n            <div className='admin-profile-details-left'>\n              <div className='admin-break'>{renderProfileDetail('Name', userDetails.fullName)}</div>\n              <div className='admin-break'>{renderProfileDetail('Email', userDetails.email)}</div>\n              <div className='admin-break'>{renderProfileDetail('Date of Birth', userDetails.dateOfBirth)}</div>\n              <div className='admin-break'>{renderProfileDetail('Role', userDetails.role)}</div>\n              <div className='admin-break'>{renderProfileDetail('Room Number', userDetails.roomNumber)}</div>\n            </div>\n            <div className='admin-profile-details-right'>\n              <Link to='/usersettings' className='admin-profile-edit-link'>\n                <Button className='admin-profile-edit-button'>Edit Profile</Button>\n              </Link>\n            </div>\n          </div>\n        </Card.Body>\n      </Card>\n    </div>\n  );\n\n  function renderProfileDetail(label, value) {\n    return (\n      <Card.Text className='admin-profile-card-text'>\n        {label}: <span className='admin-profile-card-info'>{value || 'Not provided'}</span>\n      </Card.Text>\n    );\n  }\n};\n\nexport default ProfileUserDisplayComponent;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}