{"ast":null,"code":"var _jsxFileName = \"E:\\\\FYP\\\\final\\\\src\\\\Components\\\\ChatAdmin.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport io from 'socket.io-client';\nimport { useAuth } from '../contexts/AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SOCKET_IO_URL = 'http://localhost:3001';\nconst socket = io(SOCKET_IO_URL);\nconst ChitChatComponent = () => {\n  _s();\n  const {\n    currentUser\n  } = useAuth();\n  const [currentMessage, setCurrentMessage] = useState('');\n  const [messages, setMessages] = useState([]);\n  const [users, setUsers] = useState([]);\n  const [selectedUser, setSelectedUser] = useState(null);\n  const connectSSE = () => {\n    const eventSource = new EventSource(`http://localhost:3001/api/events?email=${currentUser.email}`);\n    console.log('EventSource connected');\n    eventSource.onmessage = event => {\n      var data = event.data;\n      console.log('SSE EVENT DATA: ', data);\n      let index = data.indexOf(':');\n      if (index > -1) {\n        let eventName = data.substring(0, index);\n        if (eventName === 'MSG') {\n          let msg = JSON.parse(data.substring(index + 1));\n          //functional update to avoid stale state\n          console.log('Received new message: ', msg);\n          setMessages(prevMessages => [...prevMessages, msg]);\n        }\n      }\n    };\n    eventSource.onerror = error => {\n      console.error('EventSource failed:', error);\n      eventSource.close();\n    };\n  };\n\n  // Function to fetch chat history\n  const fetchChatHistory = useCallback(() => {\n    if (currentUser && selectedUser) {\n      fetch(`http://localhost:3001/api/auth/chat-history?user1=${currentUser.email}&user2=${selectedUser.email}`).then(response => response.json()).then(data => setMessages(data)).catch(err => console.error('Error fetching chat history:', err));\n    }\n  }, [currentUser, selectedUser]);\n  useEffect(() => {\n    fetchChatHistory();\n  }, [fetchChatHistory]);\n  useEffect(() => {\n    fetch(`http://localhost:3001/api/auth/users/${currentUser.role === 'user' ? 'admin' : 'user'}`).then(response => response.json()).then(data => setUsers(data)).catch(err => console.error('Error fetching users:', err));\n  }, [currentUser.role]);\n\n  // SSE connection\n  useEffect(connectSSE, [currentUser]);\n  const sendMessage = () => {\n    if (currentUser && selectedUser && currentMessage.trim() !== '') {\n      const messageData = {\n        senderEmail: currentUser.email,\n        receiverEmail: selectedUser.email,\n        message: currentMessage,\n        timestamp: new Date()\n      };\n      socket.emit('sendMessage', messageData);\n      setMessages([...messages, messageData]);\n      setCurrentMessage('');\n    }\n  };\n  const clearChat = () => {\n    if (selectedUser) {\n      const confirmClear = window.confirm('Are you sure you want to clear the chat history?');\n      if (confirmClear) {\n        fetch(`http://localhost:3001/api/auth/clear-chat`, {\n          method: 'DELETE',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            user1: currentUser.email,\n            user2: selectedUser.email\n          })\n        }).then(() => setMessages([])).catch(err => console.error('Error clearing chat:', err));\n      }\n    }\n  };\n  const refreshChat = () => {\n    fetchChatHistory();\n  };\n\n  // Component styling\n  // Component styling\n  const styles = {\n    chatContainer: {\n      display: 'flex',\n      flexDirection: 'row',\n      width: '73%',\n      // Reduce the width from 100% to 90%\n      height: '80vh',\n      // Set height to 80vh (no change needed here unless you want it different)\n      backgroundColor: '#f0f0f0',\n      border: '1px solid #ccc',\n      borderRadius: '10px',\n      marginLeft: '260px',\n      // Add margin to the left to push the entire container right\n      marginTop: '40px',\n      boxShadow: '0 2px 4px rgba(0,0,0,0.4)'\n    },\n    userContainer: {\n      width: '200px',\n      height: '96%',\n      overflowY: 'auto',\n      backgroundColor: '#fff',\n      padding: '10px',\n      marginRight: '10px',\n      borderRadius: '10px',\n      boxShadow: '0 2px 4px rgba(0,0,0,0.4)'\n    },\n    chatBox: {\n      flexGrow: 1,\n      display: 'flex',\n      flexDirection: 'column',\n      backgroundColor: '#fff',\n      borderRadius: '10px',\n      padding: '10px',\n      boxShadow: '0 2px 4px rgba(0,0,0,0.4)'\n    },\n    chatMessages: {\n      flexGrow: 1,\n      display: 'flex',\n      flexDirection: 'column',\n      overflowY: 'auto'\n    },\n    inputBox: {\n      display: 'flex',\n      alignItems: 'center',\n      borderTop: '1px solid #ccc',\n      padding: '10px 0'\n    },\n    inputField: {\n      flexGrow: 1,\n      padding: '10px',\n      marginRight: '10px',\n      borderRadius: '4px',\n      border: '1px solid #ccc'\n    },\n    button: {\n      padding: '10px 20px',\n      borderRadius: '4px',\n      border: 'none',\n      cursor: 'pointer',\n      boxShadow: '0 2px 4px rgba(0,0,0,0.3)'\n    },\n    sendButton: {\n      backgroundColor: '#4e9af1',\n      color: '#fff',\n      marginLeft: 'auto',\n      boxShadow: '0 2px 4px rgba(0,0,0,0.3)'\n    },\n    clearButton: {\n      backgroundColor: 'red',\n      color: '#fff',\n      marginLeft: '10px',\n      boxShadow: '0 2px 4px rgba(0,0,0,0.3)'\n    },\n    refreshButton: {\n      backgroundColor: '#4e9af1',\n      color: '#fff',\n      marginBottom: '10px'\n    },\n    messageBubble: isCurrentUser => ({\n      margin: '5px 0',\n      padding: '10px',\n      borderRadius: '10px',\n      backgroundColor: isCurrentUser ? '#4e9af1' : '#e9e9e9',\n      color: isCurrentUser ? '#fff' : '#333',\n      alignSelf: isCurrentUser ? 'flex-end' : 'flex-start',\n      maxWidth: '50%',\n      minWidth: '40%',\n      boxShadow: '0 2px 4px rgba(0,0,0,0.3)'\n    })\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.chatContainer,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.userContainer,\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Available Users\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 9\n      }, this), users.map(user => /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: () => setSelectedUser(user),\n        style: {\n          padding: '10px',\n          cursor: 'pointer',\n          backgroundColor: selectedUser === user ? '#e4e4e4' : 'transparent',\n          borderRadius: '10px'\n        },\n        children: user.fullName\n      }, user.email, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.chatBox,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.chatMessages,\n        children: messages.map((msg, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.messageBubble(msg.senderEmail === currentUser.email),\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: msg.senderEmail === currentUser.email ? 'You' : msg.senderEmail\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: msg.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 15\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.inputBox,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: currentMessage,\n          onChange: e => setCurrentMessage(e.target.value),\n          placeholder: \"Type your message here...\",\n          style: styles.inputField\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: sendMessage,\n          style: {\n            ...styles.button,\n            ...styles.sendButton\n          },\n          children: \"Send\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: clearChat,\n          style: {\n            ...styles.button,\n            ...styles.clearButton\n          },\n          children: \"Clear Chat\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 201,\n    columnNumber: 5\n  }, this);\n};\n_s(ChitChatComponent, \"4kSLtu3IjhVJyrz0fzXB6YAj7Eg=\", false, function () {\n  return [useAuth];\n});\n_c = ChitChatComponent;\nexport default ChitChatComponent;\nvar _c;\n$RefreshReg$(_c, \"ChitChatComponent\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","io","useAuth","jsxDEV","_jsxDEV","SOCKET_IO_URL","socket","ChitChatComponent","_s","currentUser","currentMessage","setCurrentMessage","messages","setMessages","users","setUsers","selectedUser","setSelectedUser","connectSSE","eventSource","EventSource","email","console","log","onmessage","event","data","index","indexOf","eventName","substring","msg","JSON","parse","prevMessages","onerror","error","close","fetchChatHistory","fetch","then","response","json","catch","err","role","sendMessage","trim","messageData","senderEmail","receiverEmail","message","timestamp","Date","emit","clearChat","confirmClear","window","confirm","method","headers","body","stringify","user1","user2","refreshChat","styles","chatContainer","display","flexDirection","width","height","backgroundColor","border","borderRadius","marginLeft","marginTop","boxShadow","userContainer","overflowY","padding","marginRight","chatBox","flexGrow","chatMessages","inputBox","alignItems","borderTop","inputField","button","cursor","sendButton","color","clearButton","refreshButton","marginBottom","messageBubble","isCurrentUser","margin","alignSelf","maxWidth","minWidth","style","children","fileName","_jsxFileName","lineNumber","columnNumber","map","user","onClick","fullName","type","value","onChange","e","target","placeholder","_c","$RefreshReg$"],"sources":["E:/FYP/final/src/Components/ChatAdmin.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react'\r\nimport io from 'socket.io-client'\r\nimport { useAuth } from '../contexts/AuthContext'\r\n\r\nconst SOCKET_IO_URL = 'http://localhost:3001'\r\nconst socket = io(SOCKET_IO_URL)\r\n\r\nconst ChitChatComponent = () => {\r\n  const { currentUser } = useAuth()\r\n  const [currentMessage, setCurrentMessage] = useState('')\r\n  const [messages, setMessages] = useState([])\r\n  const [users, setUsers] = useState([])\r\n  const [selectedUser, setSelectedUser] = useState(null)\r\n\r\n  const connectSSE = () => {\r\n    const eventSource = new EventSource(\r\n      `http://localhost:3001/api/events?email=${currentUser.email}`\r\n    )\r\n    console.log('EventSource connected')\r\n\r\n    eventSource.onmessage = (event) => {\r\n      var data = event.data\r\n      console.log('SSE EVENT DATA: ', data)\r\n      let index = data.indexOf(':')\r\n      if (index > -1) {\r\n        let eventName = data.substring(0, index)\r\n        if (eventName === 'MSG') {\r\n          let msg = JSON.parse(data.substring(index + 1))\r\n          //functional update to avoid stale state\r\n          console.log('Received new message: ', msg)\r\n          setMessages((prevMessages) => [...prevMessages, msg])\r\n        }\r\n      }\r\n    }\r\n\r\n    eventSource.onerror = (error) => {\r\n      console.error('EventSource failed:', error)\r\n      eventSource.close()\r\n    }\r\n  }\r\n\r\n  // Function to fetch chat history\r\n  const fetchChatHistory = useCallback(() => {\r\n    if (currentUser && selectedUser) {\r\n      fetch(\r\n        `http://localhost:3001/api/auth/chat-history?user1=${currentUser.email}&user2=${selectedUser.email}`\r\n      )\r\n        .then((response) => response.json())\r\n        .then((data) => setMessages(data))\r\n        .catch((err) => console.error('Error fetching chat history:', err))\r\n    }\r\n  }, [currentUser, selectedUser])\r\n\r\n  useEffect(() => {\r\n    fetchChatHistory()\r\n  }, [fetchChatHistory])\r\n\r\n  useEffect(() => {\r\n    fetch(\r\n      `http://localhost:3001/api/auth/users/${\r\n        currentUser.role === 'user' ? 'admin' : 'user'\r\n      }`\r\n    )\r\n      .then((response) => response.json())\r\n      .then((data) => setUsers(data))\r\n      .catch((err) => console.error('Error fetching users:', err))\r\n  }, [currentUser.role])\r\n\r\n  // SSE connection\r\n  useEffect(connectSSE, [currentUser])\r\n\r\n  const sendMessage = () => {\r\n    if (currentUser && selectedUser && currentMessage.trim() !== '') {\r\n      const messageData = {\r\n        senderEmail: currentUser.email,\r\n        receiverEmail: selectedUser.email,\r\n        message: currentMessage,\r\n        timestamp: new Date(),\r\n      }\r\n      socket.emit('sendMessage', messageData)\r\n      setMessages([...messages, messageData])\r\n      setCurrentMessage('')\r\n    }\r\n  }\r\n\r\n  const clearChat = () => {\r\n    if (selectedUser) {\r\n      const confirmClear = window.confirm(\r\n        'Are you sure you want to clear the chat history?'\r\n      )\r\n      if (confirmClear) {\r\n        fetch(`http://localhost:3001/api/auth/clear-chat`, {\r\n          method: 'DELETE',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify({\r\n            user1: currentUser.email,\r\n            user2: selectedUser.email,\r\n          }),\r\n        })\r\n          .then(() => setMessages([]))\r\n          .catch((err) => console.error('Error clearing chat:', err))\r\n      }\r\n    }\r\n  }\r\n\r\n  const refreshChat = () => {\r\n    fetchChatHistory()\r\n  }\r\n\r\n  // Component styling\r\n  // Component styling\r\n  const styles = {\r\n    chatContainer: {\r\n      display: 'flex',\r\n      flexDirection: 'row',\r\n      width: '73%', // Reduce the width from 100% to 90%\r\n      height: '80vh', // Set height to 80vh (no change needed here unless you want it different)\r\n      backgroundColor: '#f0f0f0',\r\n      border: '1px solid #ccc',\r\n      borderRadius: '10px',\r\n      marginLeft: '260px', // Add margin to the left to push the entire container right\r\n      marginTop: '40px',\r\n      boxShadow: '0 2px 4px rgba(0,0,0,0.4)',\r\n    },\r\n    userContainer: {\r\n      width: '200px',\r\n      height: '96%',\r\n      overflowY: 'auto',\r\n      backgroundColor: '#fff',\r\n      padding: '10px',\r\n      marginRight: '10px',\r\n      borderRadius: '10px',\r\n      boxShadow: '0 2px 4px rgba(0,0,0,0.4)',\r\n    },\r\n    chatBox: {\r\n      flexGrow: 1,\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      backgroundColor: '#fff',\r\n      borderRadius: '10px',\r\n      padding: '10px',\r\n      boxShadow: '0 2px 4px rgba(0,0,0,0.4)',\r\n    },\r\n    chatMessages: {\r\n      flexGrow: 1,\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      overflowY: 'auto',\r\n    },\r\n    inputBox: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      borderTop: '1px solid #ccc',\r\n      padding: '10px 0',\r\n    },\r\n    inputField: {\r\n      flexGrow: 1,\r\n      padding: '10px',\r\n      marginRight: '10px',\r\n      borderRadius: '4px',\r\n      border: '1px solid #ccc',\r\n    },\r\n    button: {\r\n      padding: '10px 20px',\r\n      borderRadius: '4px',\r\n      border: 'none',\r\n      cursor: 'pointer',\r\n      boxShadow: '0 2px 4px rgba(0,0,0,0.3)',\r\n    },\r\n    sendButton: {\r\n      backgroundColor: '#4e9af1',\r\n      color: '#fff',\r\n      marginLeft: 'auto',\r\n      boxShadow: '0 2px 4px rgba(0,0,0,0.3)',\r\n    },\r\n    clearButton: {\r\n      backgroundColor: 'red',\r\n      color: '#fff',\r\n      marginLeft: '10px',\r\n      boxShadow: '0 2px 4px rgba(0,0,0,0.3)',\r\n    },\r\n    refreshButton: {\r\n      backgroundColor: '#4e9af1',\r\n      color: '#fff',\r\n      marginBottom: '10px',\r\n    },\r\n    messageBubble: (isCurrentUser) => ({\r\n      margin: '5px 0',\r\n      padding: '10px',\r\n      borderRadius: '10px',\r\n      backgroundColor: isCurrentUser ? '#4e9af1' : '#e9e9e9',\r\n      color: isCurrentUser ? '#fff' : '#333',\r\n      alignSelf: isCurrentUser ? 'flex-end' : 'flex-start',\r\n      maxWidth: '50%',\r\n      minWidth: '40%',\r\n      boxShadow: '0 2px 4px rgba(0,0,0,0.3)',\r\n    }),\r\n  }\r\n\r\n  return (\r\n    <div style={styles.chatContainer}>\r\n      <div style={styles.userContainer}>\r\n        <h3>Available Users</h3>\r\n        {users.map((user) => (\r\n          <div\r\n            key={user.email}\r\n            onClick={() => setSelectedUser(user)}\r\n            style={{\r\n              padding: '10px',\r\n              cursor: 'pointer',\r\n              backgroundColor:\r\n                selectedUser === user ? '#e4e4e4' : 'transparent',\r\n              borderRadius: '10px',\r\n            }}\r\n          >\r\n            {user.fullName}\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <div style={styles.chatBox}>\r\n        {/* <button\r\n          onClick={refreshChat}\r\n          style={{ ...styles.button, ...styles.refreshButton }}\r\n        >\r\n          Refresh\r\n        </button> */}\r\n        <div style={styles.chatMessages}>\r\n          {messages.map((msg, index) => (\r\n            <div\r\n              key={index}\r\n              style={styles.messageBubble(\r\n                msg.senderEmail === currentUser.email\r\n              )}\r\n            >\r\n              <strong>\r\n                {msg.senderEmail === currentUser.email\r\n                  ? 'You'\r\n                  : msg.senderEmail}\r\n              </strong>\r\n              <p>{msg.message}</p>\r\n            </div>\r\n          ))}\r\n        </div>\r\n        <div style={styles.inputBox}>\r\n          <input\r\n            type='text'\r\n            value={currentMessage}\r\n            onChange={(e) => setCurrentMessage(e.target.value)}\r\n            placeholder='Type your message here...'\r\n            style={styles.inputField}\r\n          />\r\n          <button\r\n            onClick={sendMessage}\r\n            style={{ ...styles.button, ...styles.sendButton }}\r\n          >\r\n            Send\r\n          </button>\r\n          <button\r\n            onClick={clearChat}\r\n            style={{ ...styles.button, ...styles.clearButton }}\r\n          >\r\n            Clear Chat\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ChitChatComponent\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,WAAW,QAAQ,OAAO;AAC/D,OAAOC,EAAE,MAAM,kBAAkB;AACjC,SAASC,OAAO,QAAQ,yBAAyB;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAEjD,MAAMC,aAAa,GAAG,uBAAuB;AAC7C,MAAMC,MAAM,GAAGL,EAAE,CAACI,aAAa,CAAC;AAEhC,MAAME,iBAAiB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC9B,MAAM;IAAEC;EAAY,CAAC,GAAGP,OAAO,CAAC,CAAC;EACjC,MAAM,CAACQ,cAAc,EAAEC,iBAAiB,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EACxD,MAAM,CAACc,QAAQ,EAAEC,WAAW,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACgB,KAAK,EAAEC,QAAQ,CAAC,GAAGjB,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACkB,YAAY,EAAEC,eAAe,CAAC,GAAGnB,QAAQ,CAAC,IAAI,CAAC;EAEtD,MAAMoB,UAAU,GAAGA,CAAA,KAAM;IACvB,MAAMC,WAAW,GAAG,IAAIC,WAAW,CAChC,0CAAyCX,WAAW,CAACY,KAAM,EAC9D,CAAC;IACDC,OAAO,CAACC,GAAG,CAAC,uBAAuB,CAAC;IAEpCJ,WAAW,CAACK,SAAS,GAAIC,KAAK,IAAK;MACjC,IAAIC,IAAI,GAAGD,KAAK,CAACC,IAAI;MACrBJ,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEG,IAAI,CAAC;MACrC,IAAIC,KAAK,GAAGD,IAAI,CAACE,OAAO,CAAC,GAAG,CAAC;MAC7B,IAAID,KAAK,GAAG,CAAC,CAAC,EAAE;QACd,IAAIE,SAAS,GAAGH,IAAI,CAACI,SAAS,CAAC,CAAC,EAAEH,KAAK,CAAC;QACxC,IAAIE,SAAS,KAAK,KAAK,EAAE;UACvB,IAAIE,GAAG,GAAGC,IAAI,CAACC,KAAK,CAACP,IAAI,CAACI,SAAS,CAACH,KAAK,GAAG,CAAC,CAAC,CAAC;UAC/C;UACAL,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAEQ,GAAG,CAAC;UAC1ClB,WAAW,CAAEqB,YAAY,IAAK,CAAC,GAAGA,YAAY,EAAEH,GAAG,CAAC,CAAC;QACvD;MACF;IACF,CAAC;IAEDZ,WAAW,CAACgB,OAAO,GAAIC,KAAK,IAAK;MAC/Bd,OAAO,CAACc,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;MAC3CjB,WAAW,CAACkB,KAAK,CAAC,CAAC;IACrB,CAAC;EACH,CAAC;;EAED;EACA,MAAMC,gBAAgB,GAAGtC,WAAW,CAAC,MAAM;IACzC,IAAIS,WAAW,IAAIO,YAAY,EAAE;MAC/BuB,KAAK,CACF,qDAAoD9B,WAAW,CAACY,KAAM,UAASL,YAAY,CAACK,KAAM,EACrG,CAAC,CACEmB,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACnCF,IAAI,CAAEd,IAAI,IAAKb,WAAW,CAACa,IAAI,CAAC,CAAC,CACjCiB,KAAK,CAAEC,GAAG,IAAKtB,OAAO,CAACc,KAAK,CAAC,8BAA8B,EAAEQ,GAAG,CAAC,CAAC;IACvE;EACF,CAAC,EAAE,CAACnC,WAAW,EAAEO,YAAY,CAAC,CAAC;EAE/BjB,SAAS,CAAC,MAAM;IACduC,gBAAgB,CAAC,CAAC;EACpB,CAAC,EAAE,CAACA,gBAAgB,CAAC,CAAC;EAEtBvC,SAAS,CAAC,MAAM;IACdwC,KAAK,CACF,wCACC9B,WAAW,CAACoC,IAAI,KAAK,MAAM,GAAG,OAAO,GAAG,MACzC,EACH,CAAC,CACEL,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACnCF,IAAI,CAAEd,IAAI,IAAKX,QAAQ,CAACW,IAAI,CAAC,CAAC,CAC9BiB,KAAK,CAAEC,GAAG,IAAKtB,OAAO,CAACc,KAAK,CAAC,uBAAuB,EAAEQ,GAAG,CAAC,CAAC;EAChE,CAAC,EAAE,CAACnC,WAAW,CAACoC,IAAI,CAAC,CAAC;;EAEtB;EACA9C,SAAS,CAACmB,UAAU,EAAE,CAACT,WAAW,CAAC,CAAC;EAEpC,MAAMqC,WAAW,GAAGA,CAAA,KAAM;IACxB,IAAIrC,WAAW,IAAIO,YAAY,IAAIN,cAAc,CAACqC,IAAI,CAAC,CAAC,KAAK,EAAE,EAAE;MAC/D,MAAMC,WAAW,GAAG;QAClBC,WAAW,EAAExC,WAAW,CAACY,KAAK;QAC9B6B,aAAa,EAAElC,YAAY,CAACK,KAAK;QACjC8B,OAAO,EAAEzC,cAAc;QACvB0C,SAAS,EAAE,IAAIC,IAAI,CAAC;MACtB,CAAC;MACD/C,MAAM,CAACgD,IAAI,CAAC,aAAa,EAAEN,WAAW,CAAC;MACvCnC,WAAW,CAAC,CAAC,GAAGD,QAAQ,EAAEoC,WAAW,CAAC,CAAC;MACvCrC,iBAAiB,CAAC,EAAE,CAAC;IACvB;EACF,CAAC;EAED,MAAM4C,SAAS,GAAGA,CAAA,KAAM;IACtB,IAAIvC,YAAY,EAAE;MAChB,MAAMwC,YAAY,GAAGC,MAAM,CAACC,OAAO,CACjC,kDACF,CAAC;MACD,IAAIF,YAAY,EAAE;QAChBjB,KAAK,CAAE,2CAA0C,EAAE;UACjDoB,MAAM,EAAE,QAAQ;UAChBC,OAAO,EAAE;YAAE,cAAc,EAAE;UAAmB,CAAC;UAC/CC,IAAI,EAAE7B,IAAI,CAAC8B,SAAS,CAAC;YACnBC,KAAK,EAAEtD,WAAW,CAACY,KAAK;YACxB2C,KAAK,EAAEhD,YAAY,CAACK;UACtB,CAAC;QACH,CAAC,CAAC,CACCmB,IAAI,CAAC,MAAM3B,WAAW,CAAC,EAAE,CAAC,CAAC,CAC3B8B,KAAK,CAAEC,GAAG,IAAKtB,OAAO,CAACc,KAAK,CAAC,sBAAsB,EAAEQ,GAAG,CAAC,CAAC;MAC/D;IACF;EACF,CAAC;EAED,MAAMqB,WAAW,GAAGA,CAAA,KAAM;IACxB3B,gBAAgB,CAAC,CAAC;EACpB,CAAC;;EAED;EACA;EACA,MAAM4B,MAAM,GAAG;IACbC,aAAa,EAAE;MACbC,OAAO,EAAE,MAAM;MACfC,aAAa,EAAE,KAAK;MACpBC,KAAK,EAAE,KAAK;MAAE;MACdC,MAAM,EAAE,MAAM;MAAE;MAChBC,eAAe,EAAE,SAAS;MAC1BC,MAAM,EAAE,gBAAgB;MACxBC,YAAY,EAAE,MAAM;MACpBC,UAAU,EAAE,OAAO;MAAE;MACrBC,SAAS,EAAE,MAAM;MACjBC,SAAS,EAAE;IACb,CAAC;IACDC,aAAa,EAAE;MACbR,KAAK,EAAE,OAAO;MACdC,MAAM,EAAE,KAAK;MACbQ,SAAS,EAAE,MAAM;MACjBP,eAAe,EAAE,MAAM;MACvBQ,OAAO,EAAE,MAAM;MACfC,WAAW,EAAE,MAAM;MACnBP,YAAY,EAAE,MAAM;MACpBG,SAAS,EAAE;IACb,CAAC;IACDK,OAAO,EAAE;MACPC,QAAQ,EAAE,CAAC;MACXf,OAAO,EAAE,MAAM;MACfC,aAAa,EAAE,QAAQ;MACvBG,eAAe,EAAE,MAAM;MACvBE,YAAY,EAAE,MAAM;MACpBM,OAAO,EAAE,MAAM;MACfH,SAAS,EAAE;IACb,CAAC;IACDO,YAAY,EAAE;MACZD,QAAQ,EAAE,CAAC;MACXf,OAAO,EAAE,MAAM;MACfC,aAAa,EAAE,QAAQ;MACvBU,SAAS,EAAE;IACb,CAAC;IACDM,QAAQ,EAAE;MACRjB,OAAO,EAAE,MAAM;MACfkB,UAAU,EAAE,QAAQ;MACpBC,SAAS,EAAE,gBAAgB;MAC3BP,OAAO,EAAE;IACX,CAAC;IACDQ,UAAU,EAAE;MACVL,QAAQ,EAAE,CAAC;MACXH,OAAO,EAAE,MAAM;MACfC,WAAW,EAAE,MAAM;MACnBP,YAAY,EAAE,KAAK;MACnBD,MAAM,EAAE;IACV,CAAC;IACDgB,MAAM,EAAE;MACNT,OAAO,EAAE,WAAW;MACpBN,YAAY,EAAE,KAAK;MACnBD,MAAM,EAAE,MAAM;MACdiB,MAAM,EAAE,SAAS;MACjBb,SAAS,EAAE;IACb,CAAC;IACDc,UAAU,EAAE;MACVnB,eAAe,EAAE,SAAS;MAC1BoB,KAAK,EAAE,MAAM;MACbjB,UAAU,EAAE,MAAM;MAClBE,SAAS,EAAE;IACb,CAAC;IACDgB,WAAW,EAAE;MACXrB,eAAe,EAAE,KAAK;MACtBoB,KAAK,EAAE,MAAM;MACbjB,UAAU,EAAE,MAAM;MAClBE,SAAS,EAAE;IACb,CAAC;IACDiB,aAAa,EAAE;MACbtB,eAAe,EAAE,SAAS;MAC1BoB,KAAK,EAAE,MAAM;MACbG,YAAY,EAAE;IAChB,CAAC;IACDC,aAAa,EAAGC,aAAa,KAAM;MACjCC,MAAM,EAAE,OAAO;MACflB,OAAO,EAAE,MAAM;MACfN,YAAY,EAAE,MAAM;MACpBF,eAAe,EAAEyB,aAAa,GAAG,SAAS,GAAG,SAAS;MACtDL,KAAK,EAAEK,aAAa,GAAG,MAAM,GAAG,MAAM;MACtCE,SAAS,EAAEF,aAAa,GAAG,UAAU,GAAG,YAAY;MACpDG,QAAQ,EAAE,KAAK;MACfC,QAAQ,EAAE,KAAK;MACfxB,SAAS,EAAE;IACb,CAAC;EACH,CAAC;EAED,oBACEzE,OAAA;IAAKkG,KAAK,EAAEpC,MAAM,CAACC,aAAc;IAAAoC,QAAA,gBAC/BnG,OAAA;MAAKkG,KAAK,EAAEpC,MAAM,CAACY,aAAc;MAAAyB,QAAA,gBAC/BnG,OAAA;QAAAmG,QAAA,EAAI;MAAe;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,EACvB7F,KAAK,CAAC8F,GAAG,CAAEC,IAAI,iBACdzG,OAAA;QAEE0G,OAAO,EAAEA,CAAA,KAAM7F,eAAe,CAAC4F,IAAI,CAAE;QACrCP,KAAK,EAAE;UACLtB,OAAO,EAAE,MAAM;UACfU,MAAM,EAAE,SAAS;UACjBlB,eAAe,EACbxD,YAAY,KAAK6F,IAAI,GAAG,SAAS,GAAG,aAAa;UACnDnC,YAAY,EAAE;QAChB,CAAE;QAAA6B,QAAA,EAEDM,IAAI,CAACE;MAAQ,GAVTF,IAAI,CAACxF,KAAK;QAAAmF,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAWZ,CACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,eACNvG,OAAA;MAAKkG,KAAK,EAAEpC,MAAM,CAACgB,OAAQ;MAAAqB,QAAA,gBAOzBnG,OAAA;QAAKkG,KAAK,EAAEpC,MAAM,CAACkB,YAAa;QAAAmB,QAAA,EAC7B3F,QAAQ,CAACgG,GAAG,CAAC,CAAC7E,GAAG,EAAEJ,KAAK,kBACvBvB,OAAA;UAEEkG,KAAK,EAAEpC,MAAM,CAAC8B,aAAa,CACzBjE,GAAG,CAACkB,WAAW,KAAKxC,WAAW,CAACY,KAClC,CAAE;UAAAkF,QAAA,gBAEFnG,OAAA;YAAAmG,QAAA,EACGxE,GAAG,CAACkB,WAAW,KAAKxC,WAAW,CAACY,KAAK,GAClC,KAAK,GACLU,GAAG,CAACkB;UAAW;YAAAuD,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACb,CAAC,eACTvG,OAAA;YAAAmG,QAAA,EAAIxE,GAAG,CAACoB;UAAO;YAAAqD,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC;QAAA,GAVfhF,KAAK;UAAA6E,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAWP,CACN;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eACNvG,OAAA;QAAKkG,KAAK,EAAEpC,MAAM,CAACmB,QAAS;QAAAkB,QAAA,gBAC1BnG,OAAA;UACE4G,IAAI,EAAC,MAAM;UACXC,KAAK,EAAEvG,cAAe;UACtBwG,QAAQ,EAAGC,CAAC,IAAKxG,iBAAiB,CAACwG,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;UACnDI,WAAW,EAAC,2BAA2B;UACvCf,KAAK,EAAEpC,MAAM,CAACsB;QAAW;UAAAgB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC1B,CAAC,eACFvG,OAAA;UACE0G,OAAO,EAAEhE,WAAY;UACrBwD,KAAK,EAAE;YAAE,GAAGpC,MAAM,CAACuB,MAAM;YAAE,GAAGvB,MAAM,CAACyB;UAAW,CAAE;UAAAY,QAAA,EACnD;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACTvG,OAAA;UACE0G,OAAO,EAAEvD,SAAU;UACnB+C,KAAK,EAAE;YAAE,GAAGpC,MAAM,CAACuB,MAAM;YAAE,GAAGvB,MAAM,CAAC2B;UAAY,CAAE;UAAAU,QAAA,EACpD;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAAAnG,EAAA,CApQKD,iBAAiB;EAAA,QACGL,OAAO;AAAA;AAAAoH,EAAA,GAD3B/G,iBAAiB;AAsQvB,eAAeA,iBAAiB;AAAA,IAAA+G,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}