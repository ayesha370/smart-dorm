{"ast":null,"code":"var _jsxFileName = \"E:\\\\FYP\\\\final\\\\src\\\\Screens\\\\LeaveRequestUser.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport Sidebar from '../Components/Sidebar';\nimport LeaveRequestUserComponent from '../Components/LeaveRequestUserComponent';\nimport NoRoomMessage from '../Components/NoRoomMessage'; // Import the new component\nimport { useAuth } from '../contexts/AuthContext'; // Import your authentication context\nimport Header from '../Components/HeaderUser';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LeaveRequestUser = () => {\n  _s();\n  const [hasRoom, setHasRoom] = useState(false);\n  const {\n    currentUser\n  } = useAuth(); // Replace with your auth context usage\n\n  useEffect(() => {\n    // Only proceed if the user has 'user' role\n    if (currentUser.role === 'user') {\n      fetch(`http://localhost:3001/api/auth/check-room-allocation/${currentUser.email}`).then(res => res.json()).then(data => setHasRoom(data.hasRoom)).catch(err => console.error('Error:', err));\n    }\n  }, [currentUser]);\n\n  // Render NoRoomMessage if user has no room\n  if (!hasRoom) {\n    return /*#__PURE__*/_jsxDEV(NoRoomMessage, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'flex'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Sidebar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        width: '100%',\n        height: '100vh'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        title: \"Leave Request\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(LeaveRequestUserComponent, {\n        username: currentUser.email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }, this);\n};\n_s(LeaveRequestUser, \"UybKGFL51Mtg+Y41xkDPvuLayeU=\", false, function () {\n  return [useAuth];\n});\n_c = LeaveRequestUser;\nexport default LeaveRequestUser;\nvar _c;\n$RefreshReg$(_c, \"LeaveRequestUser\");","map":{"version":3,"names":["React","useEffect","useState","Sidebar","LeaveRequestUserComponent","NoRoomMessage","useAuth","Header","jsxDEV","_jsxDEV","LeaveRequestUser","_s","hasRoom","setHasRoom","currentUser","role","fetch","email","then","res","json","data","catch","err","console","error","fileName","_jsxFileName","lineNumber","columnNumber","style","display","children","justifyContent","alignItems","width","height","title","username","_c","$RefreshReg$"],"sources":["E:/FYP/final/src/Screens/LeaveRequestUser.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport Sidebar from '../Components/Sidebar'\nimport LeaveRequestUserComponent from '../Components/LeaveRequestUserComponent'\nimport NoRoomMessage from '../Components/NoRoomMessage' // Import the new component\nimport { useAuth } from '../contexts/AuthContext' // Import your authentication context\nimport Header from '../Components/HeaderUser'\n\nconst LeaveRequestUser = () => {\n  const [hasRoom, setHasRoom] = useState(false)\n  const { currentUser } = useAuth() // Replace with your auth context usage\n\n  useEffect(() => {\n    // Only proceed if the user has 'user' role\n    if (currentUser.role === 'user') {\n      fetch(\n        `http://localhost:3001/api/auth/check-room-allocation/${currentUser.email}`\n      )\n        .then((res) => res.json())\n        .then((data) => setHasRoom(data.hasRoom))\n        .catch((err) => console.error('Error:', err))\n    }\n  }, [currentUser])\n\n  // Render NoRoomMessage if user has no room\n  if (!hasRoom) {\n    return <NoRoomMessage />\n  }\n\n  return (\n    <div style={{ display: 'flex' }}>\n      <Sidebar />\n      <div\n        style={{\n          display: 'flex',\n          justifyContent: 'center',\n          alignItems: 'center',\n          width: '100%',\n          height: '100vh',\n        }}\n      >\n        <Header title='Leave Request' />\n        <LeaveRequestUserComponent username={currentUser.email} />\n      </div>\n    </div>\n  )\n}\n\nexport default LeaveRequestUser\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,OAAO,MAAM,uBAAuB;AAC3C,OAAOC,yBAAyB,MAAM,yCAAyC;AAC/E,OAAOC,aAAa,MAAM,6BAA6B,EAAC;AACxD,SAASC,OAAO,QAAQ,yBAAyB,EAAC;AAClD,OAAOC,MAAM,MAAM,0BAA0B;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAE7C,MAAMC,gBAAgB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC7B,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGX,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM;IAAEY;EAAY,CAAC,GAAGR,OAAO,CAAC,CAAC,EAAC;;EAElCL,SAAS,CAAC,MAAM;IACd;IACA,IAAIa,WAAW,CAACC,IAAI,KAAK,MAAM,EAAE;MAC/BC,KAAK,CACF,wDAAuDF,WAAW,CAACG,KAAM,EAC5E,CAAC,CACEC,IAAI,CAAEC,GAAG,IAAKA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACzBF,IAAI,CAAEG,IAAI,IAAKR,UAAU,CAACQ,IAAI,CAACT,OAAO,CAAC,CAAC,CACxCU,KAAK,CAAEC,GAAG,IAAKC,OAAO,CAACC,KAAK,CAAC,QAAQ,EAAEF,GAAG,CAAC,CAAC;IACjD;EACF,CAAC,EAAE,CAACT,WAAW,CAAC,CAAC;;EAEjB;EACA,IAAI,CAACF,OAAO,EAAE;IACZ,oBAAOH,OAAA,CAACJ,aAAa;MAAAqB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAC1B;EAEA,oBACEpB,OAAA;IAAKqB,KAAK,EAAE;MAAEC,OAAO,EAAE;IAAO,CAAE;IAAAC,QAAA,gBAC9BvB,OAAA,CAACN,OAAO;MAAAuB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACXpB,OAAA;MACEqB,KAAK,EAAE;QACLC,OAAO,EAAE,MAAM;QACfE,cAAc,EAAE,QAAQ;QACxBC,UAAU,EAAE,QAAQ;QACpBC,KAAK,EAAE,MAAM;QACbC,MAAM,EAAE;MACV,CAAE;MAAAJ,QAAA,gBAEFvB,OAAA,CAACF,MAAM;QAAC8B,KAAK,EAAC;MAAe;QAAAX,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eAChCpB,OAAA,CAACL,yBAAyB;QAACkC,QAAQ,EAAExB,WAAW,CAACG;MAAM;QAAAS,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACvD,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAAAlB,EAAA,CAtCKD,gBAAgB;EAAA,QAEIJ,OAAO;AAAA;AAAAiC,EAAA,GAF3B7B,gBAAgB;AAwCtB,eAAeA,gBAAgB;AAAA,IAAA6B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}